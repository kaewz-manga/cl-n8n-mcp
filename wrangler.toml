name = "cl-n8n-mcp"
main = "src/worker.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Custom domain
routes = [
  { pattern = "cl-n8n-mcp.node2flow.net", custom_domain = true }
]

# Static assets (dashboard + nodes.db)
[assets]
directory = "./public"
binding = "ASSETS"

# D1 Database (SaaS user data)
[[d1_databases]]
binding = "USERS_DB"
database_name = "cl-n8n-mcp-users"
database_id = "99c4054a-6a3f-47f8-8fbb-4af51a3de14a"

# KV Namespace (rate limiting)
[[kv_namespaces]]
binding = "RATE_LIMITS"
id = "1aa94926dddc47ad917a6cc0f392ac4d"

# Environment variables (non-secret defaults)
[vars]
ENABLE_MULTI_TENANT = "true"
CORS_ORIGIN = "https://cl-n8n-mcp.node2flow.net,https://cl-n8n-mcp.suphakitm99.workers.dev"
FRONTEND_URL = "https://cl-n8n-mcp.node2flow.net"
LOG_LEVEL = "info"
